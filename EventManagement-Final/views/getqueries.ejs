<!DOCTYPE html>
<html>
  <head>
    <title>Questions and Queries</title>
	<link rel = "stylesheet" type = "text/css" href = "stylesheets/style.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">

  </head>
		<body>

				<div class="nav">
				<a href= "adminhome">Home</a>
				<a href= "admingallery">Gallery</a>
				<a href="adminservices">Services</a>
				<a href="getbookings">Booking</a>
				<a href="geteventusers">Users</a>
				<a href="getfeedback">Feedback</a>
				<a href="getqueries">Queries</a>
				<a href="login"class = "btnn" >Logout</a>
				<h3><span>'Admin Login'</span></h3>
				</div>

                <header>
                    Questions and Queries
                </header>       

            		<h3><br></h3>
					<h3><br></h3>
					<h3>Queries Summery</h3>            
                    <div id="divGet">
                    <table class="queries">
                           <tr>
                                   <th class="queries1">ID</th>
                                   <th class="queries1">First Name</th>
                                   <th class="queries1">Last Name</th>
                                   <th class="queries1">Email Address</th>
                                   <th class="queries1">Contact Number</th>
                                   <th class="queries1">Message</th>
                                   <th class="queries1" class="table-danger">Edit</th>
                                   <th class="queries1" class="table-info">Delete</th>
                            </tr>      
                            <% if (questionsData.length !=0) {var i=1; questionsData.forEach( function(data) {
                             %>   
                             <tr>
                                    <td class="queries2"><%=data.id %></td>
                                    <td class="queries2"><%=data.firstname %></td>
                                    <td class="queries2"><%=data.lastname %></td>
                                    <td class="queries2"><%=data.email %></td>
                                    <td class="queries2"><%=data.contactno %></td>
                                    <td class="queries2"><%=data.message %></td>
                                    <td class="queries2">
								 <button class="button button3" onclick="editEmail('<%= data.email %>')">Edit</button></td>
                                 <td class="queries2">
									<button class = "button button2"onclick="deleteRow('<%= data.id %>')">Delete</button>
									<form id="deleteForm" action="/getqueries" method="post" style="display: none;">
									<input type="hidden" name="id" id="IdInput">
								</form>
								</td>
                              </tr>
                              <% i++; }) %> <%}%>
            
                        </table>    
                        </div>

<script>
    function deleteRow(Id) {
        if (confirm('Are you sure you want to delete this row?')) {
            document.getElementById('IdInput').value = Id;

			document.getElementById('deleteForm').submit();
        }
    }
	    function editEmail(email) {
        // Add your logic for editing the email here
        console.log('Editing email:', email);
    }
</script> 


    </body>
</html>